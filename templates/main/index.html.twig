{% extends 'base.html.twig' %}

{% block title %}Accueil | Le Quai-Antique
{% endblock %}

{% block body %}
	<article class="container text-center">
		<div class="row h-100 justify-content-center align-items-center">
			<div class="col-lg-6 col-sm-12">
				<img class="logo" src="{{ asset('assets/images/Orange et Bordeaux Restaurant Logo.png') }}" alt="logo">
				<h1>Le Quai-Antique</h1>
				<h2>Découvrez</br>
				notre cuisine</br>
			modèrne</h2>
	</div>
	<div class="col-lg-6 col-sm-12">
		<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
			<div class="carousel-inner">
				{% set firstImageShown = false %}
				{% for category in category %}
					{% for dishe in category.dishes %}
						{% if dishe.images|length > 0 and not firstImageShown %}
							<div class="carousel-item active">
								<img src="{{ asset('assets/uploads/dishes/mini/300x300-') ~ dishe.images[0].name }}" class="d-block img-fluid" alt="{{ dishe.name }}">
							</div>
							{% set firstImageShown = true %}
						{% elseif dishe.images|length > 0 %}
							<div class="carousel-item">
								<img src="{{ asset('assets/uploads/dishes/mini/300x300-') ~ dishe.images[0].name }}" class="d-block img-fluid" alt="{{ dishe.name }}">
							</div>
						{% endif %}
					{% endfor %}
				{% endfor %}
			</div>
			<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Previous</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Next</span>
			</button>
		</div>
	</div>
</div></article><hr>
	<img class="img-fluid" id="front" src="{{ asset('assets/images/le bar1.jpg') }}" alt="Le bar du restaurant">

<main class="container">
<section class="row">
	<div class="col-12">
	
		<h1>Le Quai-Antique</h1>
	</div>
<hr>
	{% for category in categories %}
		{% if category.parent == null %}
			<div class="col-12">
				<h2 class="text-center mt-10">{{ category.name }}</h2>
			</div>
		{% else %}
			<div class="col-6 mb-3">
				<article class="card h-100 mb-6">
					<div class="card-body">
						{% set categoryImageFound = false %}
						{% for dishe in dishes %}
							{% if dishe.categories.id == category.id and not categoryImageFound %}
								{% if dishe.images[0] is defined %}
									<img src="{{ asset('assets/uploads/dishes/mini/300x300-' ~ dishe.images[0].name ) }}" class="card-img-top" alt="{{ dishe.name }}">
								{% else %}
									<img src="{{ asset('assets/images/placeholder.png') }}" class="card-img-top" alt="{{ dishe.name }}">
								{% endif %}
								{% set categoryImageFound = true %}
							{% endif %}
						{% endfor %}
                        <div class="col-12 text-center">
						<h3 class="card-title mt-5 mb-0">{{ category.name }}</h3>
						<a  href="{{ path('app_categories_list', {slug: category.slug}) }}" class="btn mt-3">Voir le détails</a>
						{% if app.user %}
							<a type="button" href="{{ path('app_calendar_new') }}" class="btn mt-3">Réserver</a>
						{% else %}
							<p>Connectez-vous pour réserver</p>
							<a type="button" href="{{ path('app_login') }}" class="btn mt-3">Connexion</a>
							<a type="button" href="{{ path('app_register') }}" class="btn mt-3">S'inscrire</a>
						{% endif %}
                        </div>
					</div>
				</article>
			</div>
		{% endif %}
	{% endfor %}
</section></main>{% endblock %}
