    {% extends 'base.html.twig' %}

{% block title %}Accueil | Le Quai-Antique
{% endblock %}

{% block body %}
<article class="container text-center">
  <div class="row h-100 justify-content-center align-items-center">
    <div class="col-lg-6 col-sm-12">
	<img class="logo" src="{{ asset('assets/images/Orange et Bordeaux Restaurant Logo.png') }}" alt="logo">
		<h1>Le Quai-Antique</h1>
	 <h3>Découvrez</br> notre cuisine</br> modèrne</h3>
    </div>
      <div class="col-lg-6 col-sm-12">
      <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
          {% set firstImageShown = false %}
          {% for category in category %}
            {% for dishe in category.dishes %}
              {% if dishe.images|length > 0 and not firstImageShown %}
                <div class="carousel-item active">
                  <img src="{{ asset('assets/uploads/dishes/mini/300x300-') ~ dishe.images[0].name }}" class="d-block img-fluid"  alt="{{ dishe.name }}">
                </div>
                {% set firstImageShown = true %}
              {% elseif dishe.images|length > 0 %}
                <div class="carousel-item">
                  <img src="{{ asset('assets/uploads/dishes/mini/300x300-') ~ dishe.images[0].name }}" class="d-block img-fluid"  alt="{{ dishe.name }}">
                </div>
              {% endif %}
            {% endfor %}
          {% endfor %}
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>
  </div>
</article>
<hr>
	<main class="container">
		<section class="row justify-content-center">
			<div class="col-12">
				<h1>Voir les {{ categorie.name }}</h1>
			</div>

			{% for dishe in dishes.data %}
			
				<div  class="col-lg-6 col-md-6 col-sm-8 mb-4">
					<article class="card h-100" id="card">
						<div class="card-body text-center">
							<div>
							
							{% if dishe.images[0] is defined %}
								<img class="img-fluid rounded" src="{{ asset('assets/uploads/dishes/mini/300x300-') ~ dishe.images[0].name }} " class="d-block img-fluid" alt= "{{ dishe.name }}">
							{% else %}
								<img class="img-fluid rounded" src="{{ asset('assets/images/Orange et Bordeaux Restaurant Logo.png') }}" class="d-block img-fluid" alt= "{{ dishe.name }}">
							{% endif %}
							</div>
							<h2 class="card-title  text-center">{{ dishe.name }}</h2>
							
							
							<p >Les {{ dishe.description }}</p>
							<div class="text-center mt-auto">
							<a href="{{ path('app_dishes_details', {"slug": dishe.slug }) }}" class="btn btn">Détails</a>
							{% if app.user %}
							<div class="d-flex mt-auto">
							
							<a class="btn btn2 me-auto p-2" href=" {{ path('app_carte')}} ">La carte</a>
							<a class="btn p-2" href="">Réserver</a>
							</div>
							{% else %}
							<div class="d-flex mt-auto">
							<a class="btn btn3 me-auto p-2" href=" {{ path('app_login')}} ">connexion</a>
							<a type="button" href="{{ path('app_register') }}" class="btn btn3 p-2">S'inscrire</a>
							</div>
							{% endif %}
							
							
						</div>
					</article>
				</div>
			{% endfor %}
			{% set path = 'app_categories_list' %}
			{% set slug = categorie.slug %}
			{% set pages = dishes.pages %}
			{% set currentPage = dishes.page %}
			{% include "_partials/_pagination.html.twig" %}
		</div>
	</section>
</main>{% endblock %}
